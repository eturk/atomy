use(require("core"))
use(require("define"))

def(fib(0)): 0
def(fib(1)): 1
def(fib(n)): fib(n - 2) + fib(n - 1)

-- use("atomy")
-- fib(0) := 0
-- fib(1) := 1
-- fib(n) := fib(n - 2) + fib(n - 1)

require("rubinius/profiler")

profiler = Rubinius Profiler Instrumenter new

-- profiler profile:
-- 200 times:

require("benchmark/ips")

Benchmark ips(10, 5) [x]:
  x report("fib(20)"):
    fib(20)
