<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Input &amp; Output</title><link type="text/css" rel="stylesheet" href="public/anatomy.css" /><link type="text/css" rel="stylesheet" href="public/highlight.css" /><script type="text/javascript" src="public/jquery.js"></script><script type="text/javascript" src="public/jquery.hotkeys.js"></script><script type="text/javascript" src="public/tags_input-and-output.js"></script><script type="text/javascript" src="public/main.js"></script></head><body><div id="main"><div id="content"><div class="section" id="section_input-and-output"><h1 class="section_header"><a name="input-and-output"></a>Input &amp; Output</h1><p></p><div class="definition assign"><p><a name="OutputPort"></a></p><div class="thumb"><pre><span class="no"><a href="input-and-output.html#OutputPort">OutputPort</a></span><span class="definition_result_arrow"> = </span><span class="n">dynamic</span><span class="p">(</span><span class="vg">$stdout</span><span class="p">)</span></pre></div><p>Where to write normal output.</p></div><div class="definition assign"><p><a name="InputPort"></a></p><div class="thumb"><pre><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span><span class="definition_result_arrow"> = </span><span class="n">dynamic</span><span class="p">(</span><span class="vg">$stdin</span><span class="p">)</span></pre></div><p>Where to read input from.</p></div><div class="definition assign"><p><a name="ErrorPort"></a></p><div class="thumb"><pre><span class="no"><a href="input-and-output.html#ErrorPort">ErrorPort</a></span><span class="definition_result_arrow"> = </span><span class="n">dynamic</span><span class="p">(</span><span class="vg">$stderr</span><span class="p">)</span></pre></div><p>Where to write error/warning output.</p></div><div class="section" id="section_output"><h2 class="section_header"><a name="output"></a>Output</h2><div class="definition"><p><a name="print"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#print">print</a></span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="definition_result_arrow"> =&gt; </span><span class="n">x</span></pre></div><p>Write <code><span class="n">x</span><span class="t"> </span><span class="n">to-s</span></code> to <code><span class="o">^</span><span class="no"><a href="input-and-output.html#OutputPort">OutputPort</a></span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#print">print</a></span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
1<span class="mi">1</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#print">print</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span><span class="p">)</span>
hello<span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="puts"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="definition_result_arrow"> =&gt; </span><span class="n">x</span></pre></div><p>Write <code><span class="n">x</span><span class="t"> </span><span class="n">to-s</span></code> to <code><span class="o">^</span><span class="no"><a href="input-and-output.html#OutputPort">OutputPort</a></span></code>, followed by a linebreak.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
1
<span class="mi">1</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span><span class="p">)</span>
hello
<span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="with-output-to"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#with-output-to">with-output-to</a></span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="t"> </span><span class="n">mode</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="s">&quot;</span><span class="s">w</span><span class="s">&quot;</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">action</span><span class="definition_result_arrow"> =&gt; </span><span class="n">any</span>
  | <span class="n">filename</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span>
  | <span class="n">mode</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span></pre></div><p>Set <code><span class="o">^</span><span class="no"><a href="input-and-output.html#OutputPort">OutputPort</a></span></code> to write output to <code><span class="n">filename</span></code> for the duration
of <code><span class="n">action</span></code>, ensuring that the file is closed.</p><p>Returns the result of <code><span class="n">action</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-output-to">with-output-to</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="mi">42</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-output-to">with-output-to</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">,</span><span class="t"> </span><span class="s">&quot;</span><span class="s">a</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span><span class="p">)</span>
<span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span>
<span class="caret">&gt; </span><span class="no">File</span><span class="t"> </span><span class="n">open</span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="t"> </span><span class="ss">.read</span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="with-output-to"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#with-output-to">with-output-to</a></span><span class="p">(</span><span class="n">io</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">action</span><span class="definition_result_arrow"> =&gt; </span><span class="n">any</span></pre></div><p>Set <code><span class="o">^</span><span class="no"><a href="input-and-output.html#OutputPort">OutputPort</a></span></code> to write to <code><span class="n">io</span></code> for the duration of <code><span class="n">action</span></code>.</p><p>Returns the result of <code><span class="n">action</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">require</span><span class="p">(</span><span class="s">&quot;</span><span class="s">stringio</span><span class="s">&quot;</span><span class="p">)</span>
<span class="kc">false</span>
<span class="caret">&gt; </span><span class="n">x</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="no">StringIO</span><span class="t"> </span><span class="n">new</span>
<span class="o">#&lt;</span><span class="no">StringIO</span><span class="p">:</span><span class="mh">0x549e4</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-output-to">with-output-to</a></span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="s">&quot;</span><span class="s">hello!</span><span class="s">&quot;</span><span class="t"> </span><span class="n">write</span>
<span class="gr">NoMethodError: undefined method `write' on an instance of String.</span>
<span class="caret">&gt; </span><span class="n">x</span><span class="t"> </span><span class="n">string</span>
<span class="s">&quot;</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="with-error-to"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#with-error-to">with-error-to</a></span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="t"> </span><span class="n">mode</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="s">&quot;</span><span class="s">w</span><span class="s">&quot;</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">action</span><span class="definition_result_arrow"> =&gt; </span><span class="n">any</span>
  | <span class="n">filename</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span>
  | <span class="n">mode</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span></pre></div><p>Set <code><span class="o">^</span><span class="no"><a href="input-and-output.html#ErrorPort">ErrorPort</a></span></code> to write error output to <code><span class="n">filename</span></code> for the
duration of <code><span class="n">action</span></code>, ensuring that the file is closed.</p><p>Returns the result of <code><span class="n">action</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-error-to">with-error-to</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">,</span><span class="t"> </span><span class="s">&quot;</span><span class="s">a</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="condition-system.html#warning">warning</a></span><span class="p">(</span><span class="ss">.some-warning</span><span class="p">)</span>
<span class="kc">nil</span>
<span class="caret">&gt; </span><span class="no">File</span><span class="t"> </span><span class="n">open</span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="t"> </span><span class="ss">.read</span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">condition.ay::SimpleWarning: some_warning</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="with-error-to"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#with-error-to">with-error-to</a></span><span class="p">(</span><span class="n">io</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">action</span><span class="definition_result_arrow"> =&gt; </span><span class="n">any</span></pre></div><p>Set <code><span class="o">^</span><span class="no"><a href="input-and-output.html#ErrorPort">ErrorPort</a></span></code> to write to <code><span class="n">io</span></code> for the duration of <code><span class="n">action</span></code>.</p><p>Returns the result of <code><span class="n">action</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">require</span><span class="p">(</span><span class="s">&quot;</span><span class="s">stringio</span><span class="s">&quot;</span><span class="p">)</span>
<span class="kc">false</span>
<span class="caret">&gt; </span><span class="n">x</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="no">StringIO</span><span class="t"> </span><span class="n">new</span>
<span class="o">#&lt;</span><span class="no">StringIO</span><span class="p">:</span><span class="mh">0x563f0</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-error-to">with-error-to</a></span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="condition-system.html#warning">warning</a></span><span class="p">(</span><span class="ss">.foo</span><span class="p">)</span>
<span class="kc">nil</span>
<span class="caret">&gt; </span><span class="n">x</span><span class="t"> </span><span class="n">string</span>
<span class="s">&quot;</span><span class="s">condition.ay::SimpleWarning: foo</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span>
</pre></div></div></div></div><div class="section" id="section_input"><h2 class="section_header"><a name="input"></a>Input</h2><div class="definition"><p><a name="read-line"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#read-line">read-line</a></span><span class="p">(</span><span class="n">sep</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="vg">$separator</span><span class="p">)</span><span class="definition_result_arrow"> =&gt; </span><span class="no">String</span></pre></div><p>Read a line of text from <code><span class="o">^</span><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span></code>, signalling <code><span class="no"><a href="condition-system.html#EndOfFile">EndOfFile</a></span></code> on
end of file. Lines are separated by <code><span class="n">sep</span></code>. A separator of <code><span class="kc">nil</span></code>
reads the entire contents, and a zero-length separator reads the input
one paragraph at a time (separated by two linebreaks).</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read-line">read-line</a></span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="read-lines"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#read-lines">read-lines</a></span><span class="p">(</span><span class="n">sep</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="vg">$separator</span><span class="p">)</span><span class="definition_result_arrow"> =&gt; </span><span class="no">String</span></pre></div><p>Read all lines of text from <code><span class="o">^</span><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span></code>. Lines are separated by
<code><span class="n">sep</span></code>. A separator of <code><span class="kc">nil</span></code> reads the entire contents as one
segment, and a zero-length separator reads the input one paragraph at a
time (separated by two linebreaks).</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read-lines">read-lines</a></span>
<span class="p">[</span><span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span><span class="p">,</span><span class="t"> </span><span class="s">&quot;</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span><span class="p">,</span><span class="t"> </span><span class="s">&quot;</span><span class="s">condition.ay::SimpleWarning: some_warning</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span><span class="p">]</span>
</pre></div></div></div><div class="definition"><p><a name="read-byte"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#read-byte">read-byte</a></span><span class="definition_result_arrow"> =&gt; </span><span class="no">Integer</span></pre></div><p>Read a single byte from <code><span class="o">^</span><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span></code>, signalling <code><span class="no"><a href="condition-system.html#EndOfFile">EndOfFile</a></span></code> on
end of file.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read-byte">read-byte</a></span>
<span class="mi">52</span>
</pre></div></div></div><div class="definition"><p><a name="read-char"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#read-char">read-char</a></span><span class="definition_result_arrow"> =&gt; </span><span class="no">String</span></pre></div><p>Same as <code><span class="n"><a href="input-and-output.html#read-byte">read-byte</a></span><span class="t"> </span><span class="n">chr</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read-char">read-char</a></span>
<span class="s">&quot;</span><span class="s">4</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="read"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#read">read</a></span><span class="p">(</span><span class="n">length</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="kc">nil</span><span class="p">,</span><span class="t"> </span><span class="n">buffer</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="kc">nil</span><span class="p">)</span><span class="definition_result_arrow"> =&gt; </span><span class="no">String</span><span class="t"> </span><span class="n">or</span><span class="t"> </span><span class="n">buffer</span><span class="t"> </span><span class="n">or</span><span class="t"> </span><span class="kc">nil</span>
  | <span class="n">length</span><span class="t"> </span><span class="n">nil</span><span class="o">?</span><span class="t"> </span><span class="n">or</span><span class="t"> </span><span class="n">length</span><span class="t"> </span><span class="o">&gt;=</span><span class="t"> </span><span class="mi">0</span>
  | <span class="n">buffer</span><span class="t"> </span><span class="n">nil</span><span class="o">?</span><span class="t"> </span><span class="n">or</span><span class="t"> </span><span class="n">buffer</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span></pre></div><p>Read at most <code><span class="n">length</span></code> bytes from <code><span class="o">^</span><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span></code>, or to the end of
file if <code><span class="n">length</span></code> is <code><span class="kc">nil</span></code>. If <code><span class="n">buffer</span></code> is given, the data read
will be written to it.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">x</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="s">&quot;</span><span class="s">&quot;</span>
<span class="s">&quot;</span><span class="s">&quot;</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read">read</a></span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">c</span><span class="s">&quot;</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read">read</a></span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="t"> </span><span class="n">x</span><span class="p">)</span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">c</span><span class="s">&quot;</span>
<span class="caret">&gt; </span><span class="n">x</span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">c</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="with-input-from"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="t"> </span><span class="n">mode</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="s">&quot;</span><span class="s">r</span><span class="s">&quot;</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">action</span><span class="definition_result_arrow"> =&gt; </span><span class="n">any</span>
  | <span class="n">filename</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span>
  | <span class="n">mode</span><span class="t"> </span><span class="n">is-a</span><span class="p">(</span><span class="no">String</span><span class="p">)</span><span class="o">?</span></pre></div><p>Set <code><span class="o">^</span><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span></code> to read input from <code><span class="n">filename</span></code> for the duration
of <code><span class="n">action</span></code>, ensuring that the file is closed.</p><p>Returns the result of <code><span class="n">action</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read-line">read-line</a></span>
<span class="s">&quot;</span><span class="s">42</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition"><p><a name="with-input-from"></a></p><div class="thumb"><pre><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="n">io</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">action</span><span class="definition_result_arrow"> =&gt; </span><span class="n">any</span></pre></div><p>Set <code><span class="o">^</span><span class="no"><a href="input-and-output.html#InputPort">InputPort</a></span></code> to write to <code><span class="n">io</span></code> for the duration of <code><span class="n">action</span></code>.</p><p>Returns the result of <code><span class="n">action</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">require</span><span class="p">(</span><span class="s">&quot;</span><span class="s">stringio</span><span class="s">&quot;</span><span class="p">)</span>
<span class="kc">false</span>
<span class="caret">&gt; </span><span class="n">x</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="no">StringIO</span><span class="t"> </span><span class="n">new</span><span class="p">(</span><span class="s">&quot;</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">goodbye</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="o">#&lt;</span><span class="no">StringIO</span><span class="p">:</span><span class="mh">0x5a560</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n"><a href="input-and-output.html#with-input-from">with-input-from</a></span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#read-line">read-line</a></span>
<span class="s">&quot;</span><span class="s">hello</span><span class="se">\</span><span class="se">n</span><span class="s">&quot;</span>
</pre></div></div></div></div></div></div></div><div class="search"><form action="javascript:void(0)"><input type="text" placeholder="Search&hellip;" autocomplete="off" id="search" /></form><ul class="search_results"></ul></div><div id="sidebar"><h4>On this page:</h4><ol class="toc"><li><a href="input-and-output.html#output">Output</a></li><li><a href="input-and-output.html#input">Input</a></li></ol><h4>Up one level:</h4><ol class="toc"><li><a href="reference.html">Reference</a><ol><li><a href="concurrency.html">Concurrency</a><ol><li><a href="concurrency.html#sending-and-receiving">Sending &amp; Receiving</a></li><li><a href="concurrency.html#spawning">Spawning</a></li></ol></li><li><a href="condition-system.html">Condition System</a><ol><li><a href="condition-system.html#conditions">Conditions</a></li><li><a href="condition-system.html#handling">Handling</a></li><li><a href="condition-system.html#signalling">Signalling</a></li><li><a href="condition-system.html#debuggers">Debuggers</a></li></ol></li><li><a href="core.html">Core</a></li><li><a href="input-and-output.html">Input &amp; Output</a><ol><li><a href="input-and-output.html#output">Output</a></li><li><a href="input-and-output.html#input">Input</a></li></ol></li><li><a href="the-repl.html">The REPL</a></li><li><a href="therie.html">Testing with Therie</a><ol><li><a href="therie.html#structure">Structure</a></li><li><a href="therie.html#tests">Tests</a></li></ol></li></ol></li></ol></div></body></html>