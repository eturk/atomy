<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Core</title><link type="text/css" rel="stylesheet" href="public/anatomy.css" /><link type="text/css" rel="stylesheet" href="public/highlight.css" /><script type="text/javascript" src="public/jquery.js"></script><script type="text/javascript" src="public/jquery.hotkeys.js"></script><script type="text/javascript" src="public/tags_core.js"></script><script type="text/javascript" src="public/main.js"></script></head><body><div id="main"><div id="content"><div class="section" id="section_core"><h1 class="section_header"><a name="core"></a>Core</h1><p></p><div class="definition macro"><div class="thumb"><pre><span class="bp">self</span></pre></div><p>The current object.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="mi">1</span><span class="t"> </span><span class="n">instance-eval</span><span class="p">:</span><span class="t"> </span><span class="bp">self</span>
<span class="mi">1</span>
<span class="caret">&gt; </span><span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span><span class="t"> </span><span class="n">instance-eval</span><span class="p">:</span><span class="t"> </span><span class="bp">self</span>
<span class="s">&quot;</span><span class="s">hello</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="kc">true</span></pre></div><p>The value representing truth and virtue.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="mi">2</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="mi">2</span><span class="t"> </span><span class="o">==</span><span class="t"> </span><span class="mi">4</span>
<span class="kc">true</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="kc">false</span></pre></div><p>The value representing falsity and vice.</p><p><code><span class="kc">false</span></code> and <code><span class="kc">nil</span></code> are the only two values considered non-true.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="mi">2</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="mi">2</span><span class="t"> </span><span class="o">==</span><span class="t"> </span><span class="mi">5</span>
<span class="kc">false</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="kc">nil</span></pre></div><p>The value representing the absense of value.</p><p><code><span class="kc">false</span></code> and <code><span class="kc">nil</span></code> are the only two values considered non-true.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="mi">2</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">]</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="kc">nil</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="kc">undefined</span></pre></div><p>Perhaps a peculiar constant coming from Ruby, representing the true absense
of value. For example, this is used to specify that an argument should be
considered unspecified, and cause it to inherit its default value if there
is one.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">foo</span><span class="p">(</span><span class="n">a</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="n">b</span><span class="t"> </span><span class="o">=</span><span class="t"> </span><span class="mi">2</span><span class="p">)</span><span class="t"> </span><span class="o">:=</span><span class="t"> </span><span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="t"> </span><span class="n">b</span><span class="p">]</span>
<span class="o">#&lt;</span><span class="no">Rubinius</span><span class="p">:</span><span class="p">:</span><span class="no">CompiledMethod</span><span class="t"> </span><span class="n">foo</span><span class="t"> </span><span class="n">file</span><span class="o">=</span><span class="n">wrapper</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n">foo</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">]</span>
</pre></div></div><p>It is also used for unspecified values in a <code><span class="no">Particle</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="ss">.foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="n">_</span><span class="p">)</span><span class="t"> </span><span class="n">arguments</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="kc">undefined</span><span class="p">]</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~receiver</span><span class="t"> </span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span></pre></div><p>A basic message send.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="mi">1</span><span class="t"> </span><span class="n">inspect</span>
<span class="s">&quot;</span><span class="s">1</span><span class="s">&quot;</span>
<span class="caret">&gt; </span><span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span><span class="t"> </span><span class="n">nil</span><span class="o">?</span>
<span class="kc">false</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~receiver</span><span class="t"> </span><span class="p">(</span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">)</span><span class="p">(</span><span class="si">~</span><span class="o">*</span><span class="n">arguments</span><span class="p">)</span></pre></div><p>A basic message send with arguments.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="s">&quot;</span><span class="s">fii</span><span class="s">&quot;</span><span class="t"> </span><span class="n">gsub</span><span class="p">(</span><span class="s">&quot;</span><span class="s">i</span><span class="s">&quot;</span><span class="p">,</span><span class="t"> </span><span class="s">&quot;</span><span class="s">o</span><span class="s">&quot;</span><span class="p">)</span>
<span class="s">&quot;</span><span class="s">foo</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="n">macro</span><span class="p">(</span><span class="si">~pattern</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A macro for defining macros. Defines in the current module.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">macro</span><span class="p">(</span><span class="mi">2</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="mi">2</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="mi">5</span>
<span class="o">#&lt;</span><span class="no">Rubinius</span><span class="p">:</span><span class="p">:</span><span class="no">CompiledMethod</span><span class="t"> </span><span class="n">_expand_</span><span class="o">+</span><span class="t"> </span><span class="n">file</span><span class="o">=</span><span class="n">wrapper</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="mi">2</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="mi">2</span>
<span class="mi">5</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="p">[</span><span class="si">~</span><span class="o">*</span><span class="n">args</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A block with arguments.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="n">x</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="mi">1</span>
<span class="o">#&lt;</span><span class="no">Proc</span><span class="p">:</span><span class="mh">0x4ed3c</span><span class="vi">@interaction</span><span class="p">:</span><span class="mi">1</span><span class="o">&gt;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="p">[</span><span class="si">~</span><span class="o">*</span><span class="n">args</span><span class="p">]</span><span class="t"> </span><span class="o">&amp;~</span><span class="n">block</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A block with arguments and a proc-arg.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="t"> </span><span class="o">&amp;</span><span class="n">y</span><span class="p">:</span><span class="t"> </span><span class="n">y</span><span class="t"> </span><span class="n">call</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">#&lt;</span><span class="no">Proc</span><span class="p">:</span><span class="mh">0x4f1b8</span><span class="vi">@interaction</span><span class="p">:</span><span class="mi">1</span><span class="o">&gt;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="o">&amp;~</span><span class="n">block</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A block with a proc-arg.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="o">&amp;</span><span class="n">y</span><span class="p">:</span><span class="t"> </span><span class="n">y</span><span class="t"> </span><span class="n">call</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="o">#&lt;</span><span class="no">Proc</span><span class="p">:</span><span class="mh">0x4f554</span><span class="vi">@interaction</span><span class="p">:</span><span class="mi">1</span><span class="o">&gt;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A private message send with a proc-arg.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">tap</span><span class="p">:</span><span class="t"> </span><span class="mi">1</span>
<span class="o">#&lt;</span><span class="no"><a href="index.html">Atomy</a></span><span class="p">:</span><span class="p">:</span><span class="no">Module</span><span class="t"> </span><span class="ss">'</span><span class="ss">'</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n">tap</span><span class="t"> </span><span class="p">{</span><span class="t"> </span><span class="mi">1</span><span class="t"> </span><span class="p">}</span>
<span class="o">#&lt;</span><span class="no"><a href="index.html">Atomy</a></span><span class="p">:</span><span class="p">:</span><span class="no">Module</span><span class="t"> </span><span class="ss">'</span><span class="ss">'</span><span class="o">&gt;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="p">(</span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">)</span><span class="p">(</span><span class="si">~</span><span class="o">*</span><span class="n">args</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A private message send with arguments and a proc-arg.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">foo</span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">baz</span><span class="t"> </span><span class="o">:=</span><span class="t"> </span><span class="n">baz</span><span class="t"> </span><span class="n">call</span>
<span class="o">#&lt;</span><span class="no">Rubinius</span><span class="p">:</span><span class="p">:</span><span class="no">CompiledMethod</span><span class="t"> </span><span class="n">foo</span><span class="t"> </span><span class="n">file</span><span class="o">=</span><span class="n">wrapper</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n">foo</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">called</span><span class="s">&quot;</span><span class="p">)</span>
called
<span class="s">&quot;</span><span class="s">called</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="p">(</span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">)</span><span class="p">(</span><span class="si">~</span><span class="o">*</span><span class="n">args</span><span class="p">)</span><span class="t"> </span><span class="p">[</span><span class="si">~</span><span class="o">*</span><span class="n">block-args</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span></pre></div><p>A private message send with arguments and a proc-arg with arguments.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="n">foo</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span><span class="t"> </span><span class="o">&amp;</span><span class="n">baz</span><span class="t"> </span><span class="o">:=</span><span class="t"> </span><span class="n">baz</span><span class="t"> </span><span class="n">call</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>
<span class="o">#&lt;</span><span class="no">Rubinius</span><span class="p">:</span><span class="p">:</span><span class="no">CompiledMethod</span><span class="t"> </span><span class="n">foo</span><span class="t"> </span><span class="n">file</span><span class="o">=</span><span class="n">wrapper</span><span class="o">&gt;</span>
<span class="caret">&gt; </span><span class="n">foo</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span><span class="t"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">called with </span><span class="s">&quot;</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="n">x</span><span class="t"> </span><span class="n">inspect</span><span class="p">)</span>
called with 41
<span class="s">&quot;</span><span class="s">called with 41</span><span class="s">&quot;</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~receiver</span><span class="t"> </span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span><span class="p">)</span></pre></div><p>A message send with a proc-arg to <code><span class="n">receiver</span></code>.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="mi">1</span><span class="t"> </span><span class="n">tap</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">xyz</span><span class="s">&quot;</span><span class="p">)</span>
xyz
<span class="mi">1</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~receiver</span><span class="t"> </span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="t"> </span><span class="p">[</span><span class="si">~</span><span class="o">*</span><span class="n">block-args</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span><span class="p">)</span></pre></div><p>A message send to <code><span class="n">receiver</span></code> with a proc-arg with arguments.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="mi">2</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">]</span><span class="t"> </span><span class="n">collect</span><span class="t"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="n">x</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="mi">1</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">,</span><span class="t"> </span><span class="mi">4</span><span class="p">]</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~receiver</span><span class="t"> </span><span class="p">(</span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">)</span><span class="p">(</span><span class="si">~</span><span class="o">*</span><span class="n">args</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span><span class="p">)</span></pre></div><p>A message send to <code><span class="n">receiver</span></code> with arguments and a proc-arg.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="t"> </span><span class="mi">2</span><span class="p">]</span><span class="t"> </span><span class="n">zip</span><span class="p">(</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">]</span><span class="p">)</span><span class="p">:</span><span class="t"> </span><span class="n"><a href="input-and-output.html#puts">puts</a></span><span class="p">(</span><span class="s">&quot;</span><span class="s">xyz</span><span class="s">&quot;</span><span class="p">)</span>
xyz
xyz
<span class="kc">nil</span>
</pre></div></div></div><div class="definition macro"><div class="thumb"><pre><span class="si">~receiver</span><span class="t"> </span><span class="p">(</span><span class="si">~</span><span class="p">(</span><span class="n">message</span><span class="t"> </span><span class="o">?</span><span class="t"> </span><span class="n">to-word</span><span class="p">)</span><span class="p">)</span><span class="p">(</span><span class="si">~</span><span class="o">*</span><span class="n">args</span><span class="p">)</span><span class="t"> </span><span class="p">[</span><span class="si">~</span><span class="o">*</span><span class="n">block-args</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="si">~</span><span class="o">*</span><span class="n">body</span><span class="p">)</span></pre></div><p>A message send to <code><span class="n">receiver</span></code> with arguments and a proc-arg with arguments.</p><div class="example"><p><p><em>Example:</em></p></p><div class="interaction"><pre><span class="caret">&gt; </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="t"> </span><span class="mi">2</span><span class="p">,</span><span class="t"> </span><span class="mi">3</span><span class="p">]</span><span class="t"> </span><span class="n">inject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="t"> </span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="t"> </span><span class="n">y</span><span class="p">]</span><span class="p">:</span><span class="t"> </span><span class="n">x</span><span class="t"> </span><span class="o">+</span><span class="t"> </span><span class="n">y</span>
<span class="mi">6</span>
</pre></div></div></div><p>
</p></div></div></div><div class="search"><form action="javascript:void(0)"><input type="text" placeholder="Search&hellip;" autocomplete="off" id="search" /></form><ul class="search_results"></ul></div><div id="sidebar"><h4>Up one level:</h4><ol class="toc"><li><a href="reference.html">Reference</a><ol><li><a href="concurrency.html">Concurrency</a><ol><li><a href="concurrency.html#sending-and-receiving">Sending &amp; Receiving</a></li><li><a href="concurrency.html#spawning">Spawning</a></li></ol></li><li><a href="condition-system.html">Condition System</a><ol><li><a href="condition-system.html#conditions">Conditions</a></li><li><a href="condition-system.html#handling">Handling</a></li><li><a href="condition-system.html#signalling">Signalling</a></li><li><a href="condition-system.html#debuggers">Debuggers</a></li></ol></li><li><a href="core.html">Core</a></li><li><a href="input-and-output.html">Input &amp; Output</a><ol><li><a href="input-and-output.html#output">Output</a></li><li><a href="input-and-output.html#input">Input</a></li></ol></li><li><a href="the-repl.html">The REPL</a></li><li><a href="therie.html">Testing with Therie</a><ol><li><a href="therie.html#structure">Structure</a></li><li><a href="therie.html#tests">Tests</a></li></ol></li></ol></li></ol></div></body></html>